CREATE DATABASE IF NOT EXISTS leave_application;

USE leave_application;

CREATE TABLE IF NOT EXISTS compensation_leave_claim (id integer not null auto_increment, date date, no_of_hours double precision not null, reasons varchar(255), staff_id integer, primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS leave_balance (id integer not null auto_increment, balance_leave double precision not null, leave_type_id integer, staff_id integer, primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS leave_history (id integer not null auto_increment, additional_reason varchar(200), contact_details varchar(200), description varchar(200), from_date date, comment varchar(200), no_of_days double precision, status integer, to_date date, work_dissemination varchar(100), leave_typeid integer, staff_id integer, primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS leave_type (id integer not null auto_increment, leave_type_name varchar(255), primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS public_holiday (id integer not null auto_increment, date date, name varchar(255), primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS role (id integer not null auto_increment, role_name varchar(255), primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS role_leave_type (id integer not null auto_increment, no_of_days double precision not null, leave_type_id integer, role_id integer, primary key (id)) engine=InnoDB;
CREATE TABLE IF NOT EXISTS staff (id integer not null auto_increment, email_id varchar(255), join_date date, password varchar(255), staff_name varchar(255), user_name varchar(60), reports_to integer, role_id integer, primary key (id)) engine=InnoDB;
ALTER TABLE compensation_leave_claim add constraint FK3vnoc14935qj8hxalf0vpc4tw foreign key (staff_id) references staff (id);
ALTER TABLE leave_balance add constraint FKr7fmdsbyl1l02pt10gdvgkkrq foreign key (leave_type_id) references leave_type (id);
ALTER TABLE leave_balance add constraint FK5i735xqvtd3qo1ywxhhn2ixbw foreign key (staff_id) references staff (id);
ALTER TABLE leave_history add constraint FK8g8s2bh68jq445weogdj8vmvg foreign key (leave_typeid) references leave_type (id);
ALTER TABLE leave_history add constraint FK678chlxtj9oveim61kn70ecqh foreign key (staff_id) references staff (id);
ALTER TABLE role_leave_type add constraint FKqp007mrnfmbrx74xc3ok5cexc foreign key (leave_type_id) references leave_type (id);
ALTER TABLE role_leave_type add constraint FKqx6r7w4cseubxoufk7nudc4ei foreign key (role_id) references role (id);
ALTER TABLE staff add constraint FKn3vxpc78heacxly9frnvo4c3d foreign key (reports_to) references staff (id);
ALTER TABLE staff add constraint FK5bbdfuitxii0b63v2v3f0r22x foreign key (role_id) references role (id);

INSERT INTO `leave_application`.`role` (`id`, `role_name`) VALUES ('1', 'Admin');
INSERT INTO `leave_application`.`role` (`id`, `role_name`) VALUES ('2', 'Manager');
INSERT INTO `leave_application`.`role` (`id`, `role_name`) VALUES ('3', 'Employee');

INSERT INTO `leave_application`.`leave_type` (`id`, `leave_type_name`) VALUES ('1', 'Annual');
INSERT INTO `leave_application`.`leave_type` (`id`, `leave_type_name`) VALUES ('2', 'Medical');
INSERT INTO `leave_application`.`leave_type` (`id`, `leave_type_name`) VALUES ('3', 'Compensation');

INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('1', '18', '1', '1');
INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('2', '60', '2', '1');
INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('3', '18', '1', '2');
INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('4', '60', '2', '2');
INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('5', '14', '1', '3');
INSERT INTO `leave_application`.`role_leave_type` (`id`, `no_of_days`, `leave_type_id`, `role_id`) VALUES ('6', '60', '2', '3');

INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `role_id`) VALUES ('1', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Eddard Stark', 'eStark1', '1');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `role_id`) VALUES ('2', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Robert Baratheon', 'rBaratheon1', '2');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `role_id`) VALUES ('3', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Jamie Lannister', 'jLannister1', '2');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `role_id`) VALUES ('4', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Catelyn Stark', 'cStark1', '2');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('5', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Cersei Lannister', 'cLannister1', '2', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('6', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Daenerys Targaryen', 'dTargaryen1', '3', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('7', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Jorah Mormont', 'jMormont1', '4', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('8', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Jon Snow', 'jSnow1', '2', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('9', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Sansa Stark', 'sStark1', '3', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('10', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Arya Stark', 'aStark1', '4', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('11', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Robb Stark', 'rStark1', '2', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('12', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Theon Greyjoy', 'tGreyjoy1', '3', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('13', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Bran Stark', 'bStark1', '4', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('14', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Joffrey Baratheon', 'jBaratheon1', '2', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('15', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Sandor Clegane', 'sClegane1', '3', '3');
INSERT INTO `leave_application`.`staff` (`id`, `email_id`, `join_date`, `password`, `staff_name`, `user_name`, `reports_to`, `role_id`) VALUES ('16', 'sa48Team1@gmail.com', '2019-01-01', '123', 'Tyrion Lannister', 'tLannister1', '4', '3');

INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('1', '2019-01-01', 'New Year\'s Day');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('2', '2019-02-05', 'Chinese New Year');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('3', '2019-02-06', 'Chinese New Year');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('4', '2019-04-19', 'Good Friday');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('5', '2019-05-01', 'Labour Day');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('6', '2019-05-20', 'Vesak Day');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('7', '2019-06-05', 'Hari Raya Puasa');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('8', '2019-08-09', 'National Day');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('9', '2019-08-12', 'Hari Raya Haji');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('10', '2019-10-28', 'Deepavali');
INSERT INTO `leave_application`.`public_holiday` (`id`, `date`, `name`) VALUES ('11', '2019-12-25', 'Christmas');

INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('1', '18', '1', '1');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('2', '60', '2', '1');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('3', '0', '3', '1');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('4', '18', '1', '2');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('5', '60', '2', '2');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('6', '0', '3', '2');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('7', '18', '1', '3');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('8', '60', '2', '3');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('9', '0', '3', '3');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('10', '18', '1', '4');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('11', '60', '2', '4');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('12', '0', '3', '4');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('13', '14', '1', '5');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('14', '60', '2', '5');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('15', '0', '3', '5');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('16', '14', '1', '6');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('17', '60', '2', '6');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('18', '0', '3', '6');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('19', '14', '1', '7');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('20', '60', '2', '7');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('21', '0', '3', '7');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('22', '14', '1', '8');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('23', '60', '2', '8');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('24', '0', '3', '8');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('25', '14', '1', '9');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('26', '60', '2', '9');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('27', '0', '3', '9');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('28', '14', '1', '10');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('29', '60', '2', '10');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('30', '0', '3', '10');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('31', '14', '1', '11');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('32', '60', '2', '11');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('33', '0', '3', '11');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('34', '14', '1', '12');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('35', '60', '2', '12');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('36', '0', '3', '12');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('37', '14', '1', '13');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('38', '60', '2', '13');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('39', '0', '3', '13');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('40', '14', '1', '14');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('41', '60', '2', '14');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('42', '0', '3', '14');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('43', '14', '1', '15');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('44', '60', '2', '15');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('45', '0', '3', '15');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('46', '14', '1', '16');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('47', '60', '2', '16');
INSERT INTO `leave_application`.`leave_balance` (`id`, `balance_leave`, `leave_type_id`, `staff_id`) VALUES ('48', '0', '3', '16');